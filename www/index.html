<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="viewport-fit=cover, initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">  <title></title>
  <link rel="manifest" href="manifest.json">

  <!-- un-comment this code to enable service worker
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
        .then(() => console.log('service worker installed'))
        .catch(err => console.log('Error', err));
    }
  </script>-->

  <link href="lib/ionic/css/ionic.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
  <link href="css/ionic.app.min.css" rel="stylesheet">
  <link href="css/flaticon.css" rel="stylesheet">
  <link rel="stylesheet" href="lib/angular-notifier/dist/angular-notifier.min.css">

  <!-- IF using Sass (run gulp sass first), then uncomment below and remove the CSS includes above
  <link href="css/ionic.app.css" rel="stylesheet">
  -->

  <!-- ionic/angularjs js -->
  <script src="lib/ionic/js/ionic.bundle.js"></script>

  <!-- angular notifier -->
  <script src="lib/angular-notifier/dist/angular-notifier.min.js"></script>

  <!-- Not minified, version 1.5.5 -->
  <script src="https://code.angularjs.org/1.5.5/angular-cookies.js"></script>
  <!-- Minified, version 1.5.5 -->
  <script src="https://code.angularjs.org/1.5.5/angular-cookies.min.js"></script>

  <script src="https://www.gstatic.com/firebasejs/4.12.0/firebase.js"></script>

  <script src="https://cdn.firebase.com/libs/angularfire/2.3.0/angularfire.min.js"></script>

  <script src="lib/moment/moment.js"></script>
  <script src="lib/angular-moment/angular-moment.js"></script>

  <!-- <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyB0GbLPy5PEqkteoLq6rNg-0LaibyheINo",
      authDomain: "practera-notification.firebaseapp.com",
      databaseURL: "https://practera-notification.firebaseio.com",
      projectId: "practera-notification",
      storageBucket: "practera-notification.appspot.com",
      messagingSenderId: "1036267604116"
    };
    firebase.initializeApp(config);

    const messaging = firebase.messaging();
    messaging.usePublicVapidKey("BI3g0Hc4w9bNo2onAe2Ag6C8dqJP3SsXlxBPfMKEXoCqWrOJjUzHReT63ji5Wsz91OfisS_kO679UZAGvNonBbY");

    messaging.requestPermission().then(function () {
      console.log('Notification permission granted.');
      getToken();
      // TODO(developer): Retrieve an Instance ID token for use with FCM.
      // ...
    }).catch(function (err) {
      console.log('Unable to get permission to notify.', err);
    });

    function getToken() {
      messaging.getToken().then(function (currentToken) {
        if (currentToken) {
          alert(currentToken);
          console.log(currentToken, 'current');
          // sendTokenToServer(currentToken);
          // updateUIForPushEnabled(currentToken);
        } else {
          // Show permission request.
          console.log('No Instance ID token available. Request permission to generate one.');
          // Show permission UI.
          //updateUIForPushPermissionRequired();
          // setTokenSentToServer(false);
        }
      }).catch(function (err) {
        console.log('An error occurred while retrieving token. ', err);
        // showToken('Error retrieving Instance ID token. ', err);
        // setTokenSentToServer(false);
      });

      messaging.onTokenRefresh(function () {
        messaging.getToken().then(function (refreshedToken) {
          console.log('Token refreshed.');
          // Indicate that the new Instance ID token has not yet been sent to the
          // app server.
          setTokenSentToServer(false);
          // Send Instance ID token to app server.
          sendTokenToServer(refreshedToken);
          // ...
        }).catch(function (err) {
          console.log('Unable to retrieve refreshed token ', err);
          showToken('Unable to retrieve refreshed token ', err);
        });
      });
    }

    messaging.onMessage(function (payload) {
      console.log('Message received. ', payload);
      // ...
    });
  </script> -->




  <!-- cordova script (this will be a 404 during development) -->
  <script src="cordova.js"></script>

  <!-- your app's js -->
  <script src="dist/practera.min.js"></script>
</head>

<body ng-app="practeraChat">

  <ion-pane>
    <!--Start Navigation Bar-->
    <ion-nav-bar class="bar-stable" style="color: #6ebdd3 !important">
    </ion-nav-bar>
    <!--End Navigation Bar-->

    <!--Start Dynamic content area-->
    <ion-nav-view></ion-nav-view>
    <!--End Dynamic content area-->
  </ion-pane>

</body>

</html>
